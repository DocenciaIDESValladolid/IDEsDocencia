/*! Built with http://stenciljs.com */
const{h:n}=window.App;function e(){const n=window.TapticEngine;n&&n.gestureSelectionChanged()}const i=()=>import("./ios.transition.js"),t=()=>import("./md.transition.js");function a(n){return new Promise(e=>{n.queue.write(async()=>{!function(n){const e=n.enteringEl,i=n.leavingEl;(function(n,e,i){n&&(n.style.zIndex="back"===i?"99":"101"),e&&(e.style.zIndex="100")})(e,i,n.direction),n.showGoBack?e.classList.add("can-go-back"):e.classList.remove("can-go-back"),e.hidden=!1,i&&(i.hidden=!1)}(n);const a=await async function(n){if(n.leavingEl&&!1!==n.animated&&0!==n.duration)return n.animationBuilder?n.animationBuilder:"ios"===n.mode?(await i()).iosTransitionAnimation:(await t()).mdTransitionAnimation}(n),c=a?async function(n,e){await o(e,!0);const i=await e.animationCtrl.create(n,e.baseEl,e);return r(e.window,e.enteringEl,e.leavingEl),await function(n,e){const i=e.progressCallback,t=new Promise(e=>n.onFinish(e));return i?(n.progressStart(),i(n)):n.play(),t}(i,e),i.hasCompleted&&s(e.window,e.enteringEl,e.leavingEl),i}(a,n):async function(n){const e=n.enteringEl,i=n.leavingEl;return e&&e.classList.remove("hide-page"),i&&i.classList.remove("hide-page"),await o(n,!1),r(n.window,e,i),s(n.window,e,i),null}(n);e(c)})})}async function o(n,e){const i=(null!=n.deepWait?n.deepWait:e)?[d(n.enteringEl),d(n.leavingEl)]:[l(n.enteringEl),l(n.leavingEl)];await Promise.all(i),await async function(n,e){n&&await n(e)}(n.viewIsReady,n.enteringEl)}function r(n,e,i){c(n,i,"ionViewWillLeave"),c(n,e,"ionViewWillEnter")}function s(n,e,i){c(n,e,"ionViewDidEnter"),c(n,i,"ionViewDidLeave")}function c(n,e,i){if(e){const t=new(0,n.CustomEvent)(i,{bubbles:!1,cancelable:!1});e.dispatchEvent(t)}}function l(n){return n&&n.componentOnReady?n.componentOnReady():Promise.resolve()}async function d(n){const e=n;if(e){if(e.componentOnReady&&await e.componentOnReady())return;await Promise.all(Array.from(e.children).map(d))}}async function m(n,e,i,t,a){if(n)return n.attachViewToDom(e,i,a,t);if("string"!=typeof i&&!(i instanceof HTMLElement))throw new Error("framework delegate is missing");const o="string"==typeof i?e.ownerDocument.createElement(i):i;return t&&t.forEach(n=>o.classList.add(n)),a&&Object.assign(o,a),e.appendChild(o),o.componentOnReady&&await o.componentOnReady(),o}function w(n,e){if(e){if(n){const i=e.parentElement;return n.removeViewFromDom(i,e)}e.remove()}return Promise.resolve()}export{e as a,m as b,w as c,a as d};