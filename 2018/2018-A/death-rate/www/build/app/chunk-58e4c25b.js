/*! Built with http://stenciljs.com */
const{h:t}=window.App;import{a as e,b as n}from"./chunk-ee323282.js";var i={ASSUME_TOUCH:!1,DEFAULT_MAX_ZOOM:42,DEFAULT_MIN_ZOOM:0,DEFAULT_RASTER_REPROJECTION_ERROR_THRESHOLD:.5,DEFAULT_TILE_SIZE:256,DEFAULT_WMS_VERSION:"1.3.0",ENABLE_CANVAS:!0,ENABLE_PROJ4JS:!0,ENABLE_RASTER_REPROJECTION:!0,ENABLE_WEBGL:!0,DEBUG_WEBGL:!0,INITIAL_ATLAS_SIZE:256,MAX_ATLAS_SIZE:-1,MOUSEWHEELZOOM_MAXDELTA:1,OVERVIEWMAP_MAX_RATIO:.75,OVERVIEWMAP_MIN_RATIO:.1,RASTER_REPROJECTION_MAX_SOURCE_TILES:100,RASTER_REPROJECTION_MAX_SUBDIVISION:10,RASTER_REPROJECTION_MAX_TRIANGLE_WIDTH:.25,SIMPLIFY_TOLERANCE:.5,WEBGL_TEXTURE_CACHE_HIGH_WATER_MARK:1024,VERSION:"v4.6.5",inherits:function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},nullFunction:function(){},getUid:function(t){return t.ol_uid||(t.ol_uid=++i.uidCounter_)},uidCounter_:0},r=function(t){var e=i.VERSION?i.VERSION.split("-")[0]:"latest";this.message="Assertion failed. See https://openlayers.org/en/"+e+"/doc/errors/#"+t+" for details.",this.code=t,this.name="AssertionError"};i.inherits(r,Error);var o={assert:function(t,e){if(!t)throw new r(e)}},s={};s.assign="function"==typeof Object.assign?Object.assign:function(t,e){if(void 0===t||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(t),i=1,r=arguments.length;i<r;++i){var o=arguments[i];if(void 0!==o&&null!==o)for(var s in o)o.hasOwnProperty(s)&&(n[s]=o[s])}return n},s.clear=function(t){for(var e in t)delete t[e]},s.getValues=function(t){var e=[];for(var n in t)e.push(t[n]);return e},s.isEmpty=function(t){var e;for(e in t)return!1;return!e};var a={bindListener_:function(t){var e=function(e){var n=t.listener,i=t.bindTo||t.target;return t.callOnce&&a.unlistenByKey(t),n.call(i,e)};return t.boundListener=e,e},findListener_:function(t,e,n,i){for(var r,o=0,s=t.length;o<s;++o)if((r=t[o]).listener===e&&r.bindTo===n)return i&&(r.deleteIndex=o),r},getListeners:function(t,e){var n=t.ol_lm;return n?n[e]:void 0},getListenerMap_:function(t){var e=t.ol_lm;return e||(e=t.ol_lm={}),e},removeListeners_:function(t,e){var n=a.getListeners(t,e);if(n){for(var i=0,r=n.length;i<r;++i)t.removeEventListener(e,n[i].boundListener),s.clear(n[i]);n.length=0;var o=t.ol_lm;o&&(delete o[e],0===Object.keys(o).length&&delete t.ol_lm)}},listen:function(t,e,n,i,r){var o=a.getListenerMap_(t),s=o[e];s||(s=o[e]=[]);var u=a.findListener_(s,n,i,!1);return u?r||(u.callOnce=!1):(u={bindTo:i,callOnce:!!r,listener:n,target:t,type:e},t.addEventListener(e,a.bindListener_(u)),s.push(u)),u},listenOnce:function(t,e,n,i){return a.listen(t,e,n,i,!0)},unlisten:function(t,e,n,i){var r=a.getListeners(t,e);if(r){var o=a.findListener_(r,n,i,!0);o&&a.unlistenByKey(o)}},unlistenByKey:function(t){if(t&&t.target){t.target.removeEventListener(t.type,t.boundListener);var e=a.getListeners(t.target,t.type);if(e){var n="deleteIndex"in t?t.deleteIndex:e.indexOf(t);-1!==n&&e.splice(n,1),0===e.length&&a.removeListeners_(t.target,t.type)}s.clear(t)}},unlistenAll:function(t){var e=a.getListenerMap_(t);for(var n in e)a.removeListeners_(t,n)}},u={CHANGE:"change",CLEAR:"clear",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",ERROR:"error",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",MOUSEDOWN:"mousedown",MOUSEMOVE:"mousemove",MOUSEOUT:"mouseout",MOUSEUP:"mouseup",MOUSEWHEEL:"mousewheel",MSPOINTERDOWN:"MSPointerDown",RESIZE:"resize",TOUCHSTART:"touchstart",TOUCHMOVE:"touchmove",TOUCHEND:"touchend",WHEEL:"wheel"},h={PROPERTYCHANGE:"propertychange"},c=function(){};c.prototype.disposed_=!1,c.prototype.dispose=function(){this.disposed_||(this.disposed_=!0,this.disposeInternal())},c.prototype.disposeInternal=i.nullFunction;var l=function(t){this.propagationStopped,this.type=t,this.target=null};l.prototype.preventDefault=l.prototype.stopPropagation=function(){this.propagationStopped=!0},l.stopPropagation=function(t){t.stopPropagation()},l.preventDefault=function(t){t.preventDefault()};var f=function(){c.call(this),this.pendingRemovals_={},this.dispatching_={},this.listeners_={}};i.inherits(f,c),f.prototype.addEventListener=function(t,e){var n=this.listeners_[t];n||(n=this.listeners_[t]=[]),-1===n.indexOf(e)&&n.push(e)},f.prototype.dispatchEvent=function(t){var e="string"==typeof t?new l(t):t,n=e.type;e.target=this;var r,o=this.listeners_[n];if(o){n in this.dispatching_||(this.dispatching_[n]=0,this.pendingRemovals_[n]=0),++this.dispatching_[n];for(var s=0,a=o.length;s<a;++s)if(!1===o[s].call(this,e)||e.propagationStopped){r=!1;break}if(--this.dispatching_[n],0===this.dispatching_[n]){var u=this.pendingRemovals_[n];for(delete this.pendingRemovals_[n];u--;)this.removeEventListener(n,i.nullFunction);delete this.dispatching_[n]}return r}},f.prototype.disposeInternal=function(){a.unlistenAll(this)},f.prototype.getListeners=function(t){return this.listeners_[t]},f.prototype.hasListener=function(t){return t?t in this.listeners_:Object.keys(this.listeners_).length>0},f.prototype.removeEventListener=function(t,e){var n=this.listeners_[t];if(n){var r=n.indexOf(e);t in this.pendingRemovals_?(n[r]=i.nullFunction,++this.pendingRemovals_[t]):(n.splice(r,1),0===n.length&&delete this.listeners_[t])}};var p=function(){f.call(this),this.revision_=0};i.inherits(p,f),p.unByKey=function(t){if(Array.isArray(t))for(var e=0,n=t.length;e<n;++e)a.unlistenByKey(t[e]);else a.unlistenByKey(t)},p.prototype.changed=function(){++this.revision_,this.dispatchEvent(u.CHANGE)},p.prototype.getRevision=function(){return this.revision_},p.prototype.on=function(t,e,n){if(Array.isArray(t)){for(var i=t.length,r=new Array(i),o=0;o<i;++o)r[o]=a.listen(this,t[o],e,n);return r}return a.listen(this,t,e,n)},p.prototype.once=function(t,e,n){if(Array.isArray(t)){for(var i=t.length,r=new Array(i),o=0;o<i;++o)r[o]=a.listenOnce(this,t[o],e,n);return r}return a.listenOnce(this,t,e,n)},p.prototype.un=function(t,e,n){if(Array.isArray(t))for(var i=0,r=t.length;i<r;++i)a.unlisten(this,t[i],e,n);else a.unlisten(this,t,e,n)};var d=function(t){p.call(this),i.getUid(this),this.values_={},void 0!==t&&this.setProperties(t)};i.inherits(d,p),d.changeEventTypeCache_={},d.getChangeEventType=function(t){return d.changeEventTypeCache_.hasOwnProperty(t)?d.changeEventTypeCache_[t]:d.changeEventTypeCache_[t]="change:"+t},d.prototype.get=function(t){var e;return this.values_.hasOwnProperty(t)&&(e=this.values_[t]),e},d.prototype.getKeys=function(){return Object.keys(this.values_)},d.prototype.getProperties=function(){return s.assign({},this.values_)},d.prototype.notify=function(t,e){var n;n=d.getChangeEventType(t),this.dispatchEvent(new d.Event(n,t,e)),n=h.PROPERTYCHANGE,this.dispatchEvent(new d.Event(n,t,e))},d.prototype.set=function(t,e,n){if(n)this.values_[t]=e;else{var i=this.values_[t];this.values_[t]=e,i!==e&&this.notify(t,i)}},d.prototype.setProperties=function(t,e){var n;for(n in t)this.set(n,t[n],e)},d.prototype.unset=function(t,e){if(t in this.values_){var n=this.values_[t];delete this.values_[t],e||this.notify(t,n)}},d.Event=function(t,e,n){l.call(this,t),this.key=e,this.oldValue=n},i.inherits(d.Event,l);var g={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16},_={boundingExtent:function(t){for(var e=_.createEmpty(),n=0,i=t.length;n<i;++n)_.extendCoordinate(e,t[n]);return e},boundingExtentXYs_:function(t,e,n){var i=Math.min.apply(null,t),r=Math.min.apply(null,e),o=Math.max.apply(null,t),s=Math.max.apply(null,e);return _.createOrUpdate(i,r,o,s,n)},buffer:function(t,e,n){return n?(n[0]=t[0]-e,n[1]=t[1]-e,n[2]=t[2]+e,n[3]=t[3]+e,n):[t[0]-e,t[1]-e,t[2]+e,t[3]+e]},clone:function(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t.slice()},closestSquaredDistanceXY:function(t,e,n){var i,r;return(i=e<t[0]?t[0]-e:t[2]<e?e-t[2]:0)*i+(r=n<t[1]?t[1]-n:t[3]<n?n-t[3]:0)*r},containsCoordinate:function(t,e){return _.containsXY(t,e[0],e[1])},containsExtent:function(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]},containsXY:function(t,e,n){return t[0]<=e&&e<=t[2]&&t[1]<=n&&n<=t[3]},coordinateRelationship:function(t,e){var n=t[0],i=t[1],r=t[2],o=t[3],s=e[0],a=e[1],u=g.UNKNOWN;return s<n?u|=g.LEFT:s>r&&(u|=g.RIGHT),a<i?u|=g.BELOW:a>o&&(u|=g.ABOVE),u===g.UNKNOWN&&(u=g.INTERSECTING),u},createEmpty:function(){return[1/0,1/0,-1/0,-1/0]},createOrUpdate:function(t,e,n,i,r){return r?(r[0]=t,r[1]=e,r[2]=n,r[3]=i,r):[t,e,n,i]},createOrUpdateEmpty:function(t){return _.createOrUpdate(1/0,1/0,-1/0,-1/0,t)},createOrUpdateFromCoordinate:function(t,e){var n=t[0],i=t[1];return _.createOrUpdate(n,i,n,i,e)},createOrUpdateFromCoordinates:function(t,e){var n=_.createOrUpdateEmpty(e);return _.extendCoordinates(n,t)},createOrUpdateFromFlatCoordinates:function(t,e,n,i,r){var o=_.createOrUpdateEmpty(r);return _.extendFlatCoordinates(o,t,e,n,i)},createOrUpdateFromRings:function(t,e){var n=_.createOrUpdateEmpty(e);return _.extendRings(n,t)},equals:function(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]},extend:function(t,e){return e[0]<t[0]&&(t[0]=e[0]),e[2]>t[2]&&(t[2]=e[2]),e[1]<t[1]&&(t[1]=e[1]),e[3]>t[3]&&(t[3]=e[3]),t},extendCoordinate:function(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])},extendCoordinates:function(t,e){var n,i;for(n=0,i=e.length;n<i;++n)_.extendCoordinate(t,e[n]);return t},extendFlatCoordinates:function(t,e,n,i,r){for(;n<i;n+=r)_.extendXY(t,e[n],e[n+1]);return t},extendRings:function(t,e){var n,i;for(n=0,i=e.length;n<i;++n)_.extendCoordinates(t,e[n]);return t},extendXY:function(t,e,n){t[0]=Math.min(t[0],e),t[1]=Math.min(t[1],n),t[2]=Math.max(t[2],e),t[3]=Math.max(t[3],n)},forEachCorner:function(t,e,n){var i;return(i=e.call(n,_.getBottomLeft(t)))?i:(i=e.call(n,_.getBottomRight(t)))?i:(i=e.call(n,_.getTopRight(t)))?i:(i=e.call(n,_.getTopLeft(t)))||!1},getArea:function(t){var e=0;return _.isEmpty(t)||(e=_.getWidth(t)*_.getHeight(t)),e},getBottomLeft:function(t){return[t[0],t[1]]},getBottomRight:function(t){return[t[2],t[1]]},getCenter:function(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]},getCorner:function(t,e){var n;return"bottom-left"===e?n=_.getBottomLeft(t):"bottom-right"===e?n=_.getBottomRight(t):"top-left"===e?n=_.getTopLeft(t):"top-right"===e?n=_.getTopRight(t):o.assert(!1,13),n},getEnlargedArea:function(t,e){var n=Math.min(t[0],e[0]),i=Math.min(t[1],e[1]);return(Math.max(t[2],e[2])-n)*(Math.max(t[3],e[3])-i)},getForViewAndSize:function(t,e,n,i,r){var o=e*i[0]/2,s=e*i[1]/2,a=Math.cos(n),u=Math.sin(n),h=o*a,c=o*u,l=s*a,f=s*u,p=t[0],d=t[1],g=p-h+f,m=p-h-f,v=p+h-f,E=p+h+f,y=d-c-l,T=d-c+l,x=d+c+l,S=d+c-l;return _.createOrUpdate(Math.min(g,m,v,E),Math.min(y,T,x,S),Math.max(g,m,v,E),Math.max(y,T,x,S),r)},getHeight:function(t){return t[3]-t[1]},getIntersectionArea:function(t,e){var n=_.getIntersection(t,e);return _.getArea(n)},getIntersection:function(t,e,n){var i=n||_.createEmpty();return _.intersects(t,e)&&(t[0]>e[0]?i[0]=t[0]:i[0]=e[0],t[1]>e[1]?i[1]=t[1]:i[1]=e[1],t[2]<e[2]?i[2]=t[2]:i[2]=e[2],t[3]<e[3]?i[3]=t[3]:i[3]=e[3]),i},getMargin:function(t){return _.getWidth(t)+_.getHeight(t)},getSize:function(t){return[t[2]-t[0],t[3]-t[1]]},getTopLeft:function(t){return[t[0],t[3]]},getTopRight:function(t){return[t[2],t[3]]},getWidth:function(t){return t[2]-t[0]},intersects:function(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]},isEmpty:function(t){return t[2]<t[0]||t[3]<t[1]},returnOrUpdate:function(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t},scaleFromCenter:function(t,e){var n=(t[2]-t[0])/2*(e-1),i=(t[3]-t[1])/2*(e-1);t[0]-=n,t[2]+=n,t[1]-=i,t[3]+=i},intersectsSegment:function(t,e,n){var i=!1,r=_.coordinateRelationship(t,e),o=_.coordinateRelationship(t,n);if(r===g.INTERSECTING||o===g.INTERSECTING)i=!0;else{var s,a,u=t[0],h=t[1],c=t[2],l=t[3],f=e[0],p=e[1],d=n[0],m=n[1],v=(m-p)/(d-f);o&g.ABOVE&&!(r&g.ABOVE)&&(i=(s=d-(m-l)/v)>=u&&s<=c),i||!(o&g.RIGHT)||r&g.RIGHT||(i=(a=m-(d-c)*v)>=h&&a<=l),i||!(o&g.BELOW)||r&g.BELOW||(i=(s=d-(m-h)/v)>=u&&s<=c),i||!(o&g.LEFT)||r&g.LEFT||(i=(a=m-(d-u)*v)>=h&&a<=l)}return i},applyTransform:function(t,e,n){var i=[t[0],t[1],t[0],t[3],t[2],t[1],t[2],t[3]];e(i,i,2);var r=[i[0],i[2],i[4],i[6]],o=[i[1],i[3],i[5],i[7]];return _.boundingExtentXYs_(r,o,n)}},m={TRUE:function(){return!0},FALSE:function(){return!1}},v={transform2D:function(t,e,n,i,r,o){var s,a=o||[],u=0;for(s=e;s<n;s+=i){var h=t[s],c=t[s+1];a[u++]=r[0]*h+r[2]*c+r[4],a[u++]=r[1]*h+r[3]*c+r[5]}return o&&a.length!=u&&(a.length=u),a},rotate:function(t,e,n,i,r,o,s){for(var a=s||[],u=Math.cos(r),h=Math.sin(r),c=o[0],l=o[1],f=0,p=e;p<n;p+=i){var d=t[p]-c,g=t[p+1]-l;a[f++]=c+d*u-g*h,a[f++]=l+d*h+g*u;for(var _=p+2;_<p+i;++_)a[f++]=t[_]}return s&&a.length!=f&&(a.length=f),a},scale:function(t,e,n,i,r,o,s,a){for(var u=a||[],h=s[0],c=s[1],l=0,f=e;f<n;f+=i){var p=t[f]-h,d=t[f+1]-c;u[l++]=h+r*p,u[l++]=c+o*d;for(var g=f+2;g<f+i;++g)u[l++]=t[g]}return a&&u.length!=l&&(u.length=l),u},translate:function(t,e,n,i,r,o,s){var a,u,h=s||[],c=0;for(a=e;a<n;a+=i)for(h[c++]=t[a]+r,h[c++]=t[a+1]+o,u=a+2;u<a+i;++u)h[c++]=t[u];return s&&h.length!=c&&(h.length=c),h}},E={clamp:function(t,e,n){return Math.min(Math.max(t,e),n)}};E.cosh="cosh"in Math?Math.cosh:function(t){var e=Math.exp(t);return(e+1/e)/2},E.roundUpToPowerOfTwo=function(t){return o.assert(0<t,29),Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))},E.squaredSegmentDistance=function(t,e,n,i,r,o){var s=r-n,a=o-i;if(0!==s||0!==a){var u=((t-n)*s+(e-i)*a)/(s*s+a*a);u>1?(n=r,i=o):u>0&&(n+=s*u,i+=a*u)}return E.squaredDistance(t,e,n,i)},E.squaredDistance=function(t,e,n,i){var r=n-t,o=i-e;return r*r+o*o},E.solveLinearSystem=function(t){for(var e=t.length,n=0;n<e;n++){for(var i=n,r=Math.abs(t[n][n]),o=n+1;o<e;o++){var s=Math.abs(t[o][n]);s>r&&(r=s,i=o)}if(0===r)return null;var a=t[i];t[i]=t[n],t[n]=a;for(var u=n+1;u<e;u++)for(var h=-t[u][n]/t[n][n],c=n;c<e+1;c++)n==c?t[u][c]=0:t[u][c]+=h*t[n][c]}for(var l=new Array(e),f=e-1;f>=0;f--){l[f]=t[f][e]/t[f][f];for(var p=f-1;p>=0;p--)t[p][e]-=t[p][f]*l[f]}return l},E.toDegrees=function(t){return 180*t/Math.PI},E.toRadians=function(t){return t*Math.PI/180},E.modulo=function(t,e){var n=t%e;return n*e<0?n+e:n},E.lerp=function(t,e,n){return t+n*(e-t)};var y={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"},T=function(t){this.radius=t};T.prototype.geodesicArea=function(t){return T.getArea_(t,this.radius)},T.prototype.haversineDistance=function(t,e){return T.getDistance_(t,e,this.radius)},T.prototype.offset=function(t,e,n){var i=E.toRadians(t[1]),r=E.toRadians(t[0]),o=e/this.radius,s=Math.asin(Math.sin(i)*Math.cos(o)+Math.cos(i)*Math.sin(o)*Math.cos(n)),a=r+Math.atan2(Math.sin(n)*Math.sin(o)*Math.cos(i),Math.cos(o)-Math.sin(i)*Math.sin(s));return[E.toDegrees(a),E.toDegrees(s)]},T.DEFAULT_RADIUS=6371008.8,T.getLength=function(t,e){var n,i,r,o,s,a,u=e||{},h=u.radius||T.DEFAULT_RADIUS,c=u.projection||"EPSG:3857",l=(t=t.clone().transform(c,"EPSG:4326")).getType(),f=0;switch(l){case y.POINT:case y.MULTI_POINT:break;case y.LINE_STRING:case y.LINEAR_RING:n=t.getCoordinates(),f=T.getLength_(n,h);break;case y.MULTI_LINE_STRING:case y.POLYGON:for(r=0,o=(n=t.getCoordinates()).length;r<o;++r)f+=T.getLength_(n[r],h);break;case y.MULTI_POLYGON:for(r=0,o=(n=t.getCoordinates()).length;r<o;++r)for(s=0,a=(i=n[r]).length;s<a;++s)f+=T.getLength_(i[s],h);break;case y.GEOMETRY_COLLECTION:var p=t.getGeometries();for(r=0,o=p.length;r<o;++r)f+=T.getLength(p[r],e);break;default:throw new Error("Unsupported geometry type: "+l)}return f},T.getLength_=function(t,e){for(var n=0,i=0,r=t.length;i<r-1;++i)n+=T.getDistance_(t[i],t[i+1],e);return n},T.getDistance_=function(t,e,n){var i=E.toRadians(t[1]),r=E.toRadians(e[1]),o=(r-i)/2,s=E.toRadians(e[0]-t[0])/2,a=Math.sin(o)*Math.sin(o)+Math.sin(s)*Math.sin(s)*Math.cos(i)*Math.cos(r);return 2*n*Math.atan2(Math.sqrt(a),Math.sqrt(1-a))},T.getArea=function(t,e){var n,i,r,o,s,a,u=e||{},h=u.radius||T.DEFAULT_RADIUS,c=u.projection||"EPSG:3857",l=(t=t.clone().transform(c,"EPSG:4326")).getType(),f=0;switch(l){case y.POINT:case y.MULTI_POINT:case y.LINE_STRING:case y.MULTI_LINE_STRING:case y.LINEAR_RING:break;case y.POLYGON:for(n=t.getCoordinates(),f=Math.abs(T.getArea_(n[0],h)),r=1,o=n.length;r<o;++r)f-=Math.abs(T.getArea_(n[r],h));break;case y.MULTI_POLYGON:for(r=0,o=(n=t.getCoordinates()).length;r<o;++r)for(i=n[r],f+=Math.abs(T.getArea_(i[0],h)),s=1,a=i.length;s<a;++s)f-=Math.abs(T.getArea_(i[s],h));break;case y.GEOMETRY_COLLECTION:var p=t.getGeometries();for(r=0,o=p.length;r<o;++r)f+=T.getArea(p[r],e);break;default:throw new Error("Unsupported geometry type: "+l)}return f},T.getArea_=function(t,e){for(var n=0,i=t.length,r=t[i-1][0],o=t[i-1][1],s=0;s<i;s++){var a=t[s][0],u=t[s][1];n+=E.toRadians(a-r)*(2+Math.sin(E.toRadians(o))+Math.sin(E.toRadians(u))),r=a,o=u}return n*e*e/2};var x={DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft",METERS_PER_UNIT:{}};x.METERS_PER_UNIT[x.DEGREES]=2*Math.PI*6370997/360,x.METERS_PER_UNIT[x.FEET]=.3048,x.METERS_PER_UNIT[x.METERS]=1,x.METERS_PER_UNIT[x.USFEET]=1200/3937;var S={cache_:null,set:function(t){S.cache_=t},get:function(){return S.cache_||window.proj4}},R=function(t){this.code_=t.code,this.units_=t.units,this.extent_=void 0!==t.extent?t.extent:null,this.worldExtent_=void 0!==t.worldExtent?t.worldExtent:null,this.axisOrientation_=void 0!==t.axisOrientation?t.axisOrientation:"enu",this.global_=void 0!==t.global&&t.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit;var e=t.code;if(i.ENABLE_PROJ4JS){var n=S.get();if("function"==typeof n){var r=n.defs(e);void 0!==r&&(void 0!==r.axis&&void 0===t.axisOrientation&&(this.axisOrientation_=r.axis),void 0===t.metersPerUnit&&(this.metersPerUnit_=r.to_meter),void 0===t.units&&(this.units_=r.units))}}};R.prototype.canWrapX=function(){return this.canWrapX_},R.prototype.getCode=function(){return this.code_},R.prototype.getExtent=function(){return this.extent_},R.prototype.getUnits=function(){return this.units_},R.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||x.METERS_PER_UNIT[this.units_]},R.prototype.getWorldExtent=function(){return this.worldExtent_},R.prototype.getAxisOrientation=function(){return this.axisOrientation_},R.prototype.isGlobal=function(){return this.global_},R.prototype.setGlobal=function(t){this.global_=t,this.canWrapX_=!(!t||!this.extent_)},R.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_},R.prototype.setDefaultTileGrid=function(t){this.defaultTileGrid_=t},R.prototype.setExtent=function(t){this.extent_=t,this.canWrapX_=!(!this.global_||!t)},R.prototype.setWorldExtent=function(t){this.worldExtent_=t},R.prototype.setGetPointResolution=function(t){this.getPointResolutionFunc_=t},R.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_};var C={Projection_:function(t){R.call(this,{code:t,units:x.METERS,extent:C.EXTENT,global:!0,worldExtent:C.WORLD_EXTENT,getPointResolution:function(t,e){return t/E.cosh(e[1]/C.RADIUS)}})}};i.inherits(C.Projection_,R),C.RADIUS=6378137,C.HALF_SIZE=Math.PI*C.RADIUS,C.EXTENT=[-C.HALF_SIZE,-C.HALF_SIZE,C.HALF_SIZE,C.HALF_SIZE],C.WORLD_EXTENT=[-180,-85,180,85],C.PROJECTIONS=[new C.Projection_("EPSG:3857"),new C.Projection_("EPSG:102100"),new C.Projection_("EPSG:102113"),new C.Projection_("EPSG:900913"),new C.Projection_("urn:ogc:def:crs:EPSG:6.18:3:3857"),new C.Projection_("urn:ogc:def:crs:EPSG::3857"),new C.Projection_("http://www.opengis.net/gml/srs/epsg.xml#3857")],C.fromEPSG4326=function(t,e,n){var i=t.length,r=n>1?n:2,o=e;void 0===o&&(o=r>2?t.slice():new Array(i));for(var s=C.HALF_SIZE,a=0;a<i;a+=r){o[a]=s*t[a]/180;var u=C.RADIUS*Math.log(Math.tan(Math.PI*(t[a+1]+90)/360));u>s?u=s:u<-s&&(u=-s),o[a+1]=u}return o},C.toEPSG4326=function(t,e,n){var i=t.length,r=n>1?n:2,o=e;void 0===o&&(o=r>2?t.slice():new Array(i));for(var s=0;s<i;s+=r)o[s]=180*t[s]/C.HALF_SIZE,o[s+1]=360*Math.atan(Math.exp(t[s+1]/C.RADIUS))/Math.PI-90;return o};var M={Projection_:function(t,e){R.call(this,{code:t,units:x.DEGREES,extent:M.EXTENT,axisOrientation:e,global:!0,metersPerUnit:M.METERS_PER_UNIT,worldExtent:M.EXTENT})}};i.inherits(M.Projection_,R),M.RADIUS=6378137,M.EXTENT=[-180,-90,180,90],M.METERS_PER_UNIT=Math.PI*M.RADIUS/180,M.PROJECTIONS=[new M.Projection_("CRS:84"),new M.Projection_("EPSG:4326","neu"),new M.Projection_("urn:ogc:def:crs:EPSG::4326","neu"),new M.Projection_("urn:ogc:def:crs:EPSG:6.6:4326","neu"),new M.Projection_("urn:ogc:def:crs:OGC:1.3:CRS84"),new M.Projection_("urn:ogc:def:crs:OGC:2:84"),new M.Projection_("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new M.Projection_("urn:x-ogc:def:crs:EPSG:4326","neu")];var A={cache_:{},clear:function(){A.cache_={}},get:function(t){return A.cache_[t]||null},add:function(t,e){A.cache_[t]=e}},L={cache_:{},clear:function(){L.cache_={}},add:function(t,e,n){var i=t.getCode(),r=e.getCode(),o=L.cache_;i in o||(o[i]={}),o[i][r]=n},remove:function(t,e){var n=t.getCode(),i=e.getCode(),r=L.cache_,o=r[n][i];return delete r[n][i],s.isEmpty(r[n])&&delete r[n],o},get:function(t,e){var n,i=L.cache_;return t in i&&e in i[t]&&(n=i[t][e]),n}},O={};O.METERS_PER_UNIT=x.METERS_PER_UNIT,O.SPHERE_=new T(T.DEFAULT_RADIUS),i.ENABLE_PROJ4JS&&(O.setProj4=function(t){S.set(t)}),O.getPointResolution=function(t,e,n,i){var r,o=(t=O.get(t)).getPointResolutionFunc();if(o)r=o(e,n);else if(t.getUnits()==x.DEGREES&&!i||i==x.DEGREES)r=e;else{var s=O.getTransformFromProjections(t,O.get("EPSG:4326")),a=[n[0]-e/2,n[1],n[0]+e/2,n[1],n[0],n[1]-e/2,n[0],n[1]+e/2];a=s(a,a,2),r=(O.SPHERE_.haversineDistance(a.slice(0,2),a.slice(2,4))+O.SPHERE_.haversineDistance(a.slice(4,6),a.slice(6,8)))/2;var u=i?x.METERS_PER_UNIT[i]:t.getMetersPerUnit();void 0!==u&&(r/=u)}return r},O.addEquivalentProjections=function(t){O.addProjections(t),t.forEach(function(e){t.forEach(function(t){e!==t&&L.add(e,t,O.cloneTransform)})})},O.addEquivalentTransforms=function(t,e,n,i){t.forEach(function(t){e.forEach(function(e){L.add(t,e,n),L.add(e,t,i)})})},O.addProjection=function(t){A.add(t.getCode(),t),L.add(t,t,O.cloneTransform)},O.addProjections=function(t){t.forEach(O.addProjection)},O.clearAllProjections=function(){A.clear(),L.clear()},O.createProjection=function(t,e){return t?"string"==typeof t?O.get(t):t:O.get(e)},O.addCoordinateTransforms=function(t,e,n,i){var r=O.get(t),o=O.get(e);L.add(r,o,O.createTransformFromCoordinateTransform(n)),L.add(o,r,O.createTransformFromCoordinateTransform(i))},O.createTransformFromCoordinateTransform=function(t){return function(e,n,i){var r,o,s,a=e.length,u=void 0!==i?i:2,h=void 0!==n?n:new Array(a);for(o=0;o<a;o+=u)for(r=t([e[o],e[o+1]]),h[o]=r[0],h[o+1]=r[1],s=u-1;s>=2;--s)h[o+s]=e[o+s];return h}},O.fromLonLat=function(t,e){return O.transform(t,"EPSG:4326",void 0!==e?e:"EPSG:3857")},O.toLonLat=function(t,e){var n=O.transform(t,void 0!==e?e:"EPSG:3857","EPSG:4326"),i=n[0];return(i<-180||i>180)&&(n[0]=E.modulo(i+180,360)-180),n},O.get=function(t){var e=null;if(t instanceof R)e=t;else if("string"==typeof t){var n=t;if(e=A.get(n),i.ENABLE_PROJ4JS&&!e){var r=S.get();"function"==typeof r&&void 0!==r.defs(n)&&(e=new R({code:n}),O.addProjection(e))}}return e},O.equivalent=function(t,e){if(t===e)return!0;var n=t.getUnits()===e.getUnits();return t.getCode()===e.getCode()?n:O.getTransformFromProjections(t,e)===O.cloneTransform&&n},O.getTransform=function(t,e){var n=O.get(t),i=O.get(e);return O.getTransformFromProjections(n,i)},O.getTransformFromProjections=function(t,e){var n=t.getCode(),r=e.getCode(),o=L.get(n,r);if(i.ENABLE_PROJ4JS&&!o){var s=S.get();if("function"==typeof s){var a=s.defs(n),u=s.defs(r);if(void 0!==a&&void 0!==u){if(a===u)O.addEquivalentProjections([e,t]);else{var h=s(r,n);O.addCoordinateTransforms(e,t,h.forward,h.inverse)}o=L.get(n,r)}}}return o||(o=O.identityTransform),o},O.identityTransform=function(t,e,n){if(void 0!==e&&t!==e){for(var i=0,r=t.length;i<r;++i)e[i]=t[i];t=e}return t},O.cloneTransform=function(t,e,n){var i;if(void 0!==e){for(var r=0,o=t.length;r<o;++r)e[r]=t[r];i=e}else i=t.slice();return i},O.transform=function(t,e,n){return O.getTransform(e,n)(t,void 0,t.length)},O.transformExtent=function(t,e,n){var i=O.getTransform(e,n);return _.applyTransform(t,i)},O.transformWithProjections=function(t,e,n){return O.getTransformFromProjections(e,n)(t)},O.addCommon=function(){O.addEquivalentProjections(C.PROJECTIONS),O.addEquivalentProjections(M.PROJECTIONS),O.addEquivalentTransforms(M.PROJECTIONS,C.PROJECTIONS,C.fromEPSG4326,C.toEPSG4326)},O.addCommon();var I={};I.tmp_=new Array(6),I.create=function(){return[1,0,0,1,0,0]},I.reset=function(t){return I.set(t,1,0,0,1,0,0)},I.multiply=function(t,e){var n=t[0],i=t[1],r=t[2],o=t[3],s=t[4],a=t[5],u=e[0],h=e[1],c=e[2],l=e[3],f=e[4],p=e[5];return t[0]=n*u+r*h,t[1]=i*u+o*h,t[2]=n*c+r*l,t[3]=i*c+o*l,t[4]=n*f+r*p+s,t[5]=i*f+o*p+a,t},I.set=function(t,e,n,i,r,o,s){return t[0]=e,t[1]=n,t[2]=i,t[3]=r,t[4]=o,t[5]=s,t},I.setFromArray=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t},I.apply=function(t,e){var n=e[0],i=e[1];return e[0]=t[0]*n+t[2]*i+t[4],e[1]=t[1]*n+t[3]*i+t[5],e},I.rotate=function(t,e){var n=Math.cos(e),i=Math.sin(e);return I.multiply(t,I.set(I.tmp_,n,i,-i,n,0,0))},I.scale=function(t,e,n){return I.multiply(t,I.set(I.tmp_,e,0,0,n,0,0))},I.translate=function(t,e,n){return I.multiply(t,I.set(I.tmp_,1,0,0,1,e,n))},I.compose=function(t,e,n,i,r,o,s,a){var u=Math.sin(o),h=Math.cos(o);return t[0]=i*h,t[1]=r*u,t[2]=-i*u,t[3]=r*h,t[4]=s*i*h-a*i*u+e,t[5]=s*r*u+a*r*h+n,t},I.invert=function(t){var e=I.determinant(t);o.assert(0!==e,32);var n=t[0],i=t[1],r=t[2],s=t[3],a=t[4],u=t[5];return t[0]=s/e,t[1]=-i/e,t[2]=-r/e,t[3]=n/e,t[4]=(r*u-s*a)/e,t[5]=-(n*u-i*a)/e,t},I.determinant=function(t){return t[0]*t[3]-t[1]*t[2]};var P=function(){d.call(this),this.extent_=_.createEmpty(),this.extentRevision_=-1,this.simplifiedGeometryCache={},this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.tmpTransform_=I.create()};i.inherits(P,d),P.prototype.clone=function(){},P.prototype.closestPointXY=function(t,e,n,i){},P.prototype.getClosestPoint=function(t,e){var n=e||[NaN,NaN];return this.closestPointXY(t[0],t[1],n,1/0),n},P.prototype.intersectsCoordinate=function(t){return this.containsXY(t[0],t[1])},P.prototype.computeExtent=function(t){},P.prototype.containsXY=m.FALSE,P.prototype.getExtent=function(t){return this.extentRevision_!=this.getRevision()&&(this.extent_=this.computeExtent(this.extent_),this.extentRevision_=this.getRevision()),_.returnOrUpdate(this.extent_,t)},P.prototype.rotate=function(t,e){},P.prototype.scale=function(t,e,n){},P.prototype.simplify=function(t){return this.getSimplifiedGeometry(t*t)},P.prototype.getSimplifiedGeometry=function(t){},P.prototype.getType=function(){},P.prototype.applyTransform=function(t){},P.prototype.intersectsExtent=function(t){},P.prototype.translate=function(t,e){},P.prototype.transform=function(t,e){var n=this.tmpTransform_,i=(t=O.get(t)).getUnits()==x.TILE_PIXELS?function(i,r,o){var s=t.getExtent(),a=t.getWorldExtent(),u=_.getHeight(a)/_.getHeight(s);return I.compose(n,a[0],a[3],u,-u,0,0,0),v.transform2D(i,0,i.length,o,n,r),O.getTransform(t,e)(i,r,o)}:O.getTransform(t,e);return this.applyTransform(i),this};var N,w,X={HEX_COLOR_RE_:/^#(?:[0-9a-f]{3,4}){1,2}$/i,NAMED_COLOR_RE_:/^([a-z]*)$/i,asArray:function(t){return Array.isArray(t)?t:X.fromString(t)},asString:function(t){return"string"==typeof t?t:X.toString(t)},fromNamed:function(t){var e=document.createElement("div");e.style.color=t,document.body.appendChild(e);var n=getComputedStyle(e).color;return document.body.removeChild(e),n}};X.fromString=(N={},w=0,function(t){var e;if(N.hasOwnProperty(t))e=N[t];else{if(w>=1024){var n,i=0;for(n in N)0==(3&i++)&&(delete N[n],--w)}e=X.fromStringInternal_(t),N[t]=e,++w}return e}),X.fromStringInternal_=function(t){var e,n,i,r,s,a;if(X.NAMED_COLOR_RE_.exec(t)&&(t=X.fromNamed(t)),X.HEX_COLOR_RE_.exec(t)){var u,h=t.length-1;u=h<=4?1:2;var c=4===h||8===h;e=parseInt(t.substr(1+0*u,u),16),n=parseInt(t.substr(1+1*u,u),16),i=parseInt(t.substr(1+2*u,u),16),r=c?parseInt(t.substr(1+3*u,u),16):255,1==u&&(e=(e<<4)+e,n=(n<<4)+n,i=(i<<4)+i,c&&(r=(r<<4)+r)),s=[e,n,i,r/255]}else 0==t.indexOf("rgba(")?(a=t.slice(5,-1).split(",").map(Number),s=X.normalize(a)):0==t.indexOf("rgb(")?((a=t.slice(4,-1).split(",").map(Number)).push(1),s=X.normalize(a)):o.assert(!1,14);return s},X.normalize=function(t,e){var n=e||[];return n[0]=E.clamp(t[0]+.5|0,0,255),n[1]=E.clamp(t[1]+.5|0,0,255),n[2]=E.clamp(t[2]+.5|0,0,255),n[3]=E.clamp(t[3],0,1),n},X.toString=function(t){var e=t[0];e!=(0|e)&&(e=e+.5|0);var n=t[1];n!=(0|n)&&(n=n+.5|0);var i=t[2];return i!=(0|i)&&(i=i+.5|0),"rgba("+e+","+n+","+i+","+(void 0===t[3]?1:t[3])+")"};var F={asColorLike:function(t){return F.isColorLike(t)?t:X.asString(t)},isColorLike:function(t){return"string"==typeof t||t instanceof CanvasPattern||t instanceof CanvasGradient}},U={createCanvasContext2D:function(t,e){var n=document.createElement("CANVAS");return t&&(n.width=t),e&&(n.height=e),n.getContext("2d")},outerWidth:function(t){var e=t.offsetWidth,n=getComputedStyle(t);return e+(parseInt(n.marginLeft,10)+parseInt(n.marginRight,10))},outerHeight:function(t){var e=t.offsetHeight,n=getComputedStyle(t);return e+(parseInt(n.marginTop,10)+parseInt(n.marginBottom,10))},replaceNode:function(t,e){var n=e.parentNode;n&&n.replaceChild(t,e)},removeNode:function(t){return t&&t.parentNode?t.parentNode.removeChild(t):null},removeChildren:function(t){for(;t.lastChild;)t.removeChild(t.lastChild)}},D={ONE:1,SRC_ALPHA:770,COLOR_ATTACHMENT0:36064,COLOR_BUFFER_BIT:16384,TRIANGLES:4,TRIANGLE_STRIP:5,ONE_MINUS_SRC_ALPHA:771,ARRAY_BUFFER:34962,ELEMENT_ARRAY_BUFFER:34963,STREAM_DRAW:35040,STATIC_DRAW:35044,DYNAMIC_DRAW:35048,CULL_FACE:2884,BLEND:3042,STENCIL_TEST:2960,DEPTH_TEST:2929,SCISSOR_TEST:3089,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123,UNSIGNED_INT:5125,FLOAT:5126,RGBA:6408,FRAGMENT_SHADER:35632,VERTEX_SHADER:35633,LINK_STATUS:35714,LINEAR:9729,TEXTURE_MAG_FILTER:10240,TEXTURE_MIN_FILTER:10241,TEXTURE_WRAP_S:10242,TEXTURE_WRAP_T:10243,TEXTURE_2D:3553,TEXTURE0:33984,CLAMP_TO_EDGE:33071,COMPILE_STATUS:35713,FRAMEBUFFER:36160,CONTEXT_IDS_:["experimental-webgl","webgl","webkit-3d","moz-webgl"],getContext:function(t,e){var n,i,r=D.CONTEXT_IDS_.length;for(i=0;i<r;++i)try{if(n=t.getContext(D.CONTEXT_IDS_[i],e))return n}catch(t){}return null}},Y={},b="undefined"!=typeof navigator?navigator.userAgent.toLowerCase():"";Y.FIREFOX=-1!==b.indexOf("firefox"),Y.SAFARI=-1!==b.indexOf("safari")&&-1==b.indexOf("chrom"),Y.WEBKIT=-1!==b.indexOf("webkit")&&-1==b.indexOf("edge"),Y.MAC=-1!==b.indexOf("macintosh"),Y.DEVICE_PIXEL_RATIO=window.devicePixelRatio||1,Y.CANVAS_LINE_DASH=!1,Y.CANVAS=i.ENABLE_CANVAS&&function(){if(!("HTMLCanvasElement"in window))return!1;try{var t=document.createElement("CANVAS").getContext("2d");return!!t&&(void 0!==t.setLineDash&&(Y.CANVAS_LINE_DASH=!0),!0)}catch(t){return!1}}(),Y.DEVICE_ORIENTATION="DeviceOrientationEvent"in window,Y.GEOLOCATION="geolocation"in navigator,Y.TOUCH=i.ASSUME_TOUCH||"ontouchstart"in window,Y.POINTER="PointerEvent"in window,Y.MSPOINTER=!!navigator.msPointerEnabled,function(){if(i.ENABLE_WEBGL){var t,e=!1,n=[];if("WebGLRenderingContext"in window)try{var r=document.createElement("CANVAS"),o=D.getContext(r,{failIfMajorPerformanceCaveat:!0});o&&(e=!0,t=o.getParameter(o.MAX_TEXTURE_SIZE),n=o.getSupportedExtensions())}catch(t){}Y.WEBGL=e,i.WEBGL_EXTENSIONS=n,i.WEBGL_MAX_TEXTURE_SIZE=t}}();var G={IDLE:0,LOADING:1,LOADED:2,ERROR:3},B={CLASS_HIDDEN:"ol-hidden",CLASS_SELECTABLE:"ol-selectable",CLASS_UNSELECTABLE:"ol-unselectable",CLASS_UNSUPPORTED:"ol-unsupported",CLASS_CONTROL:"ol-control"};B.getFontFamilies=function(){var t,e={};return function(n){if(t||(t=document.createElement("div").style),!(n in e)){t.font=n;var i=t.fontFamily;if(t.font="",!i)return null;e[n]=i.split(/,\s?/)}return e[n]}}();var z=function(t){f.call(this),this.highWaterMark=void 0!==t?t:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null};i.inherits(z,f),z.prototype.canExpireCache=function(){return this.getCount()>this.highWaterMark},z.prototype.clear=function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null,this.dispatchEvent(u.CLEAR)},z.prototype.containsKey=function(t){return this.entries_.hasOwnProperty(t)},z.prototype.forEach=function(t,e){for(var n=this.oldest_;n;)t.call(e,n.value_,n.key_,this),n=n.newer},z.prototype.get=function(t){var e=this.entries_[t];return o.assert(void 0!==e,15),e===this.newest_?e.value_:(e===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(e.newer.older=e.older,e.older.newer=e.newer),e.newer=null,e.older=this.newest_,this.newest_.newer=e,this.newest_=e,e.value_)},z.prototype.remove=function(t){var e=this.entries_[t];return o.assert(void 0!==e,15),e===this.newest_?(this.newest_=e.older,this.newest_&&(this.newest_.newer=null)):e===this.oldest_?(this.oldest_=e.newer,this.oldest_&&(this.oldest_.older=null)):(e.newer.older=e.older,e.older.newer=e.newer),delete this.entries_[t],--this.count_,e.value_},z.prototype.getCount=function(){return this.count_},z.prototype.getKeys=function(){var t,e=new Array(this.count_),n=0;for(t=this.newest_;t;t=t.older)e[n++]=t.key_;return e},z.prototype.getValues=function(){var t,e=new Array(this.count_),n=0;for(t=this.newest_;t;t=t.older)e[n++]=t.value_;return e},z.prototype.peekLast=function(){return this.oldest_.value_},z.prototype.peekLastKey=function(){return this.oldest_.key_},z.prototype.peekFirstKey=function(){return this.newest_.key_},z.prototype.pop=function(){var t=this.oldest_;return delete this.entries_[t.key_],t.newer&&(t.newer.older=null),this.oldest_=t.newer,this.oldest_||(this.newest_=null),--this.count_,t.value_},z.prototype.replace=function(t,e){this.get(t),this.entries_[t].value_=e},z.prototype.set=function(t,e){o.assert(!(t in this.entries_),16);var n={key_:t,newer:null,older:this.newest_,value_:e};this.newest_?this.newest_.newer=n:this.oldest_=n,this.newest_=n,this.entries_[t]=n,++this.count_},z.prototype.prune=function(){for(;this.canExpireCache();)this.pop()};var j,H,Z={defaultFont:"10px sans-serif",defaultFillStyle:[0,0,0,1],defaultLineCap:"round",defaultLineDash:[],defaultLineDashOffset:0,defaultLineJoin:"round",defaultMiterLimit:10,defaultStrokeStyle:[0,0,0,1],defaultTextAlign:"center",defaultTextBaseline:"middle",defaultPadding:[0,0,0,0],defaultLineWidth:1};Z.labelCache=new z,Z.checkedFonts_={},Z.measureContext_=null,Z.textHeights_={},Z.checkFont=function(){var t,e,n=60,i=Z.checkedFonts_,r=Z.labelCache,o="32px monospace",a="wmytzilWMYTZIL@#/&?$%10";function u(t){var n=Z.getMeasureContext();n.font=o,e=n.measureText(a).width;var i=!0;return"monospace"!=t&&(n.font="32px "+t+",monospace",i=n.measureText(a).width!=e),i}function h(){var e=!0;for(var o in i)i[o]<n&&(u(o)?(i[o]=n,s.clear(Z.textHeights_),Z.measureContext_=null,r.clear()):(++i[o],e=!1));e&&(window.clearInterval(t),t=void 0)}return function(e){var r=B.getFontFamilies(e);if(r)for(var o=0,s=r.length;o<s;++o){var a=r[o];a in i||(i[a]=n,u(a)||(i[a]=0,void 0===t&&(t=window.setInterval(h,32))))}}}(),Z.getMeasureContext=function(){var t=Z.measureContext_;return t||(t=Z.measureContext_=U.createCanvasContext2D(1,1)),t},Z.measureTextHeight=(H=Z.textHeights_,function(t){var e=H[t];return void 0==e&&(j||((j=document.createElement("span")).textContent="M",j.style.margin=j.style.padding="0 !important",j.style.position="absolute !important",j.style.left="-99999px !important"),j.style.font=t,document.body.appendChild(j),e=H[t]=j.offsetHeight,document.body.removeChild(j)),e}),Z.measureTextWidth=function(t,e){var n=Z.getMeasureContext();return t!=n.font&&(n.font=t),n.measureText(e).width},Z.rotateAtOffset=function(t,e,n,i){0!==e&&(t.translate(n,i),t.rotate(e),t.translate(-n,-i))},Z.resetTransform_=I.create(),Z.drawImage=function(t,e,n,i,r,o,s,a,u,h,c){var l;1!=n&&(l=t.globalAlpha,t.globalAlpha=l*n),e&&t.setTransform.apply(t,e),t.drawImage(i,r,o,s,a,u,h,s*c,a*c),l&&(t.globalAlpha=l),e&&t.setTransform.apply(t,Z.resetTransform_)};var W=function(t){var e=t||{};this.color_=void 0!==e.color?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=void 0!==e.lineDash?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width,this.checksum_=void 0};W.prototype.clone=function(){var t=this.getColor();return new W({color:t&&t.slice?t.slice():t||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})},W.prototype.getColor=function(){return this.color_},W.prototype.getLineCap=function(){return this.lineCap_},W.prototype.getLineDash=function(){return this.lineDash_},W.prototype.getLineDashOffset=function(){return this.lineDashOffset_},W.prototype.getLineJoin=function(){return this.lineJoin_},W.prototype.getMiterLimit=function(){return this.miterLimit_},W.prototype.getWidth=function(){return this.width_},W.prototype.setColor=function(t){this.color_=t,this.checksum_=void 0},W.prototype.setLineCap=function(t){this.lineCap_=t,this.checksum_=void 0},W.prototype.setLineDash=function(t){this.lineDash_=t,this.checksum_=void 0},W.prototype.setLineDashOffset=function(t){this.lineDashOffset_=t,this.checksum_=void 0},W.prototype.setLineJoin=function(t){this.lineJoin_=t,this.checksum_=void 0},W.prototype.setMiterLimit=function(t){this.miterLimit_=t,this.checksum_=void 0},W.prototype.setWidth=function(t){this.width_=t,this.checksum_=void 0},W.prototype.getChecksum=function(){return void 0===this.checksum_&&(this.checksum_="s",this.color_?"string"==typeof this.color_?this.checksum_+=this.color_:this.checksum_+=i.getUid(this.color_).toString():this.checksum_+="-",this.checksum_+=","+(void 0!==this.lineCap_?this.lineCap_.toString():"-")+","+(this.lineDash_?this.lineDash_.toString():"-")+","+(void 0!==this.lineDashOffset_?this.lineDashOffset_:"-")+","+(void 0!==this.lineJoin_?this.lineJoin_:"-")+","+(void 0!==this.miterLimit_?this.miterLimit_.toString():"-")+","+(void 0!==this.width_?this.width_.toString():"-")),this.checksum_};var k={XY:"XY",XYZ:"XYZ",XYM:"XYM",XYZM:"XYZM"},K=function(){P.call(this),this.layout=k.XY,this.stride=2,this.flatCoordinates=null};i.inherits(K,P),K.getLayoutForStride_=function(t){var e;return 2==t?e=k.XY:3==t?e=k.XYZ:4==t&&(e=k.XYZM),e},K.getStrideForLayout=function(t){var e;return t==k.XY?e=2:t==k.XYZ||t==k.XYM?e=3:t==k.XYZM&&(e=4),e},K.prototype.containsXY=m.FALSE,K.prototype.computeExtent=function(t){return _.createOrUpdateFromFlatCoordinates(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},K.prototype.getCoordinates=function(){},K.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)},K.prototype.getFlatCoordinates=function(){return this.flatCoordinates},K.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)},K.prototype.getLayout=function(){return this.layout},K.prototype.getSimplifiedGeometry=function(t){if(this.simplifiedGeometryRevision!=this.getRevision()&&(s.clear(this.simplifiedGeometryCache),this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var e=t.toString();if(this.simplifiedGeometryCache.hasOwnProperty(e))return this.simplifiedGeometryCache[e];var n=this.getSimplifiedGeometryInternal(t);return n.getFlatCoordinates().length<this.flatCoordinates.length?(this.simplifiedGeometryCache[e]=n,n):(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)},K.prototype.getSimplifiedGeometryInternal=function(t){return this},K.prototype.getStride=function(){return this.stride},K.prototype.setFlatCoordinatesInternal=function(t,e){this.stride=K.getStrideForLayout(t),this.layout=t,this.flatCoordinates=e},K.prototype.setCoordinates=function(t,e){},K.prototype.setLayout=function(t,e,n){var i;if(t)i=K.getStrideForLayout(t);else{var r;for(r=0;r<n;++r){if(0===e.length)return this.layout=k.XY,void(this.stride=2);e=e[0]}i=e.length,t=K.getLayoutForStride_(i)}this.layout=t,this.stride=i},K.prototype.applyTransform=function(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())},K.prototype.rotate=function(t,e){var n=this.getFlatCoordinates();if(n){var i=this.getStride();v.rotate(n,0,n.length,i,t,e,n),this.changed()}},K.prototype.scale=function(t,e,n){var i=e;void 0===i&&(i=t);var r=n;r||(r=_.getCenter(this.getExtent()));var o=this.getFlatCoordinates();if(o){var s=this.getStride();v.scale(o,0,o.length,s,t,i,r,o),this.changed()}},K.prototype.translate=function(t,e){var n=this.getFlatCoordinates();if(n){var i=this.getStride();v.translate(n,0,n.length,i,t,e,n),this.changed()}},K.transform2D=function(t,e,n){var i=t.getFlatCoordinates();if(i){var r=t.getStride();return v.transform2D(i,0,i.length,r,e,n)}return null};var V={coordinate:function(t,e,n,i){var r,o;for(r=0,o=n.length;r<o;++r)t[e++]=n[r];return e},coordinates:function(t,e,n,i){var r,o;for(r=0,o=n.length;r<o;++r){var s,a=n[r];for(s=0;s<i;++s)t[e++]=a[s]}return e},coordinatess:function(t,e,n,i,r){var o,s,a=r||[],u=0;for(o=0,s=n.length;o<s;++o){var h=V.coordinates(t,e,n[o],i);a[u++]=h,e=h}return a.length=u,a},coordinatesss:function(t,e,n,i,r){var o,s,a=r||[],u=0;for(o=0,s=n.length;o<s;++o){var h=V.coordinatess(t,e,n[o],i,a[u]);a[u++]=h,e=h[h.length-1]}return a.length=u,a}},q=function(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32};q.getKey=function(t,e,n){return e+":"+t+":"+(n?X.asString(n):"null")},q.prototype.clear=function(){this.cache_={},this.cacheSize_=0},q.prototype.expire=function(){if(this.cacheSize_>this.maxCacheSize_){var t,e,n=0;for(t in this.cache_)e=this.cache_[t],0!=(3&n++)||e.hasListener()||(delete this.cache_[t],--this.cacheSize_)}},q.prototype.get=function(t,e,n){var i=q.getKey(t,e,n);return i in this.cache_?this.cache_[i]:null},q.prototype.set=function(t,e,n,i){var r=q.getKey(t,e,n);this.cache_[r]=i,++this.cacheSize_},q.prototype.setSize=function(t){this.maxCacheSize_=t,this.expire()};var J={};J.iconImageCache=new q;var $={ADD:"add",REMOVE:"remove"},Q=function(t,e){d.call(this);var n=e||{};if(this.unique_=!!n.unique,this.array_=t||[],this.unique_)for(var i=0,r=this.array_.length;i<r;++i)this.assertUnique_(this.array_[i],i);this.updateLength_()};i.inherits(Q,d),Q.prototype.clear=function(){for(;this.getLength()>0;)this.pop()},Q.prototype.extend=function(t){var e,n;for(e=0,n=t.length;e<n;++e)this.push(t[e]);return this},Q.prototype.forEach=function(t,e){for(var n=e?t.bind(e):t,i=this.array_,r=0,o=i.length;r<o;++r)n(i[r],r,i)},Q.prototype.getArray=function(){return this.array_},Q.prototype.item=function(t){return this.array_[t]},Q.prototype.getLength=function(){return this.get(Q.Property_.LENGTH)},Q.prototype.insertAt=function(t,e){this.unique_&&this.assertUnique_(e),this.array_.splice(t,0,e),this.updateLength_(),this.dispatchEvent(new Q.Event($.ADD,e))},Q.prototype.pop=function(){return this.removeAt(this.getLength()-1)},Q.prototype.push=function(t){this.unique_&&this.assertUnique_(t);var e=this.getLength();return this.insertAt(e,t),this.getLength()},Q.prototype.remove=function(t){var e,n,i=this.array_;for(e=0,n=i.length;e<n;++e)if(i[e]===t)return this.removeAt(e)},Q.prototype.removeAt=function(t){var e=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new Q.Event($.REMOVE,e)),e},Q.prototype.setAt=function(t,e){var n=this.getLength();if(t<n){this.unique_&&this.assertUnique_(e,t);var i=this.array_[t];this.array_[t]=e,this.dispatchEvent(new Q.Event($.REMOVE,i)),this.dispatchEvent(new Q.Event($.ADD,e))}else{var r;for(r=n;r<t;++r)this.insertAt(r,void 0);this.insertAt(t,e)}},Q.prototype.updateLength_=function(){this.set(Q.Property_.LENGTH,this.array_.length)},Q.prototype.assertUnique_=function(t,e){for(var n=0,i=this.array_.length;n<i;++n)if(this.array_[n]===t&&n!==e)throw new r(58)},Q.Property_={LENGTH:"length"},Q.Event=function(t,e){l.call(this,t),this.element=e},i.inherits(Q.Event,l);var tt={binarySearch:function(t,e,n){for(var i,r,o=n||tt.numberSafeCompareFunction,s=0,a=t.length,u=!1;s<a;)(r=+o(t[i=s+(a-s>>1)],e))<0?s=i+1:(a=i,u=!r);return u?s:~s},numberSafeCompareFunction:function(t,e){return t>e?1:t<e?-1:0},includes:function(t,e){return t.indexOf(e)>=0},linearFindNearest:function(t,e,n){var i,r=t.length;if(t[0]<=e)return 0;if(e<=t[r-1])return r-1;if(n>0){for(i=1;i<r;++i)if(t[i]<e)return i-1}else if(n<0){for(i=1;i<r;++i)if(t[i]<=e)return i}else for(i=1;i<r;++i){if(t[i]==e)return i;if(t[i]<e)return t[i-1]-e<e-t[i]?i-1:i}return r-1},reverseSubArray:function(t,e,n){for(;e<n;){var i=t[e];t[e]=t[n],t[n]=i,++e,--n}},extend:function(t,e){var n,i=Array.isArray(e)?e:[e],r=i.length;for(n=0;n<r;n++)t[t.length]=i[n]},remove:function(t,e){var n=t.indexOf(e),i=n>-1;return i&&t.splice(n,1),i},find:function(t,e){for(var n,i=t.length>>>0,r=0;r<i;r++)if(e(n=t[r],r,t))return n;return null},equals:function(t,e){var n=t.length;if(n!==e.length)return!1;for(var i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0},stableSort:function(t,e){var n,i=t.length,r=Array(t.length);for(n=0;n<i;n++)r[n]={index:n,value:t[n]};for(r.sort(function(t,n){return e(t.value,n.value)||t.index-n.index}),n=0;n<t.length;n++)t[n]=r[n].value},findIndex:function(t,e){var n;return t.every(function(i,r){return n=r,!e(i,r,t)})?-1:n},isSorted:function(t,e,n){var i=e||tt.numberSafeCompareFunction;return t.every(function(e,r){if(0===r)return!0;var o=i(t[r-1],e);return!(o>0||n&&0===o)})}},et=function(t,e,n,i){this.minX=t,this.maxX=e,this.minY=n,this.maxY=i};et.createOrUpdate=function(t,e,n,i,r){return void 0!==r?(r.minX=t,r.maxX=e,r.minY=n,r.maxY=i,r):new et(t,e,n,i)},et.prototype.contains=function(t){return this.containsXY(t[1],t[2])},et.prototype.containsTileRange=function(t){return this.minX<=t.minX&&t.maxX<=this.maxX&&this.minY<=t.minY&&t.maxY<=this.maxY},et.prototype.containsXY=function(t,e){return this.minX<=t&&t<=this.maxX&&this.minY<=e&&e<=this.maxY},et.prototype.equals=function(t){return this.minX==t.minX&&this.minY==t.minY&&this.maxX==t.maxX&&this.maxY==t.maxY},et.prototype.extend=function(t){t.minX<this.minX&&(this.minX=t.minX),t.maxX>this.maxX&&(this.maxX=t.maxX),t.minY<this.minY&&(this.minY=t.minY),t.maxY>this.maxY&&(this.maxY=t.maxY)},et.prototype.getHeight=function(){return this.maxY-this.minY+1},et.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]},et.prototype.getWidth=function(){return this.maxX-this.minX+1},et.prototype.intersects=function(t){return this.minX<=t.maxX&&this.maxX>=t.minX&&this.minY<=t.maxY&&this.maxY>=t.minY};var nt={buffer:function(t,e,n){return void 0===n&&(n=[0,0]),n[0]=t[0]+2*e,n[1]=t[1]+2*e,n},hasArea:function(t){return t[0]>0&&t[1]>0},scale:function(t,e,n){return void 0===n&&(n=[0,0]),n[0]=t[0]*e+.5|0,n[1]=t[1]*e+.5|0,n},toSize:function(t,e){return Array.isArray(t)?t:(void 0===e?e=[t,t]:e[0]=e[1]=t,e)}},it={createOrUpdate:function(t,e,n,i){return void 0!==i?(i[0]=t,i[1]=e,i[2]=n,i):[t,e,n]},getKeyZXY:function(t,e,n){return t+"/"+e+"/"+n},getKey:function(t){return it.getKeyZXY(t[0],t[1],t[2])},fromKey:function(t){return t.split("/").map(Number)},hash:function(t){return(t[1]<<t[0])+t[2]},quadKey:function(t){var e,n,i=t[0],r=new Array(i),o=1<<i-1;for(e=0;e<i;++e)n=48,t[1]&o&&(n+=1),t[2]&o&&(n+=2),r[e]=String.fromCharCode(n),o>>=1;return r.join("")},withinExtentAndZ:function(t,e){var n=t[0],i=t[1],r=t[2];if(e.getMinZoom()>n||n>e.getMaxZoom())return!1;var o,s=e.getExtent();return!(o=s?e.getTileRangeForExtentAndZ(s,n):e.getFullTileRange(n))||o.containsXY(i,r)}},rt=function(t){var e;if(this.minZoom=void 0!==t.minZoom?t.minZoom:0,this.resolutions_=t.resolutions,o.assert(tt.isSorted(this.resolutions_,function(t,e){return e-t},!0),17),!t.origins)for(var n=0,r=this.resolutions_.length-1;n<r;++n)if(e){if(this.resolutions_[n]/this.resolutions_[n+1]!==e){e=void 0;break}}else e=this.resolutions_[n]/this.resolutions_[n+1];this.zoomFactor_=e,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==t.origin?t.origin:null,this.origins_=null,void 0!==t.origins&&(this.origins_=t.origins,o.assert(this.origins_.length==this.resolutions_.length,20));var s=t.extent;void 0===s||this.origin_||this.origins_||(this.origin_=_.getTopLeft(s)),o.assert(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,void 0!==t.tileSizes&&(this.tileSizes_=t.tileSizes,o.assert(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=void 0!==t.tileSize?t.tileSize:this.tileSizes_?null:i.DEFAULT_TILE_SIZE,o.assert(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=void 0!==s?s:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],void 0!==t.sizes?this.fullTileRanges_=t.sizes.map(function(t,e){return new et(Math.min(0,t[0]),Math.max(t[0]-1,-1),Math.min(0,t[1]),Math.max(t[1]-1,-1))},this):s&&this.calculateTileRanges_(s)};rt.tmpTileCoord_=[0,0,0],rt.prototype.forEachTileCoord=function(t,e,n){for(var i=this.getTileRangeForExtentAndZ(t,e),r=i.minX,o=i.maxX;r<=o;++r)for(var s=i.minY,a=i.maxY;s<=a;++s)n([e,r,s])},rt.prototype.forEachTileCoordParentTileRange=function(t,e,n,i,r){var o,s,a,u=null,h=t[0]-1;for(2===this.zoomFactor_?(s=t[1],a=t[2]):u=this.getTileCoordExtent(t,r);h>=this.minZoom;){if(2===this.zoomFactor_?(s=Math.floor(s/2),a=Math.floor(a/2),o=et.createOrUpdate(s,s,a,a,i)):o=this.getTileRangeForExtentAndZ(u,h,i),e.call(n,h,o))return!0;--h}return!1},rt.prototype.getExtent=function(){return this.extent_},rt.prototype.getMaxZoom=function(){return this.maxZoom},rt.prototype.getMinZoom=function(){return this.minZoom},rt.prototype.getOrigin=function(t){return this.origin_?this.origin_:this.origins_[t]},rt.prototype.getResolution=function(t){return this.resolutions_[t]},rt.prototype.getResolutions=function(){return this.resolutions_},rt.prototype.getTileCoordChildTileRange=function(t,e,n){if(t[0]<this.maxZoom){if(2===this.zoomFactor_){var i=2*t[1],r=2*t[2];return et.createOrUpdate(i,i+1,r,r+1,e)}var o=this.getTileCoordExtent(t,n);return this.getTileRangeForExtentAndZ(o,t[0]+1,e)}return null},rt.prototype.getTileRangeExtent=function(t,e,n){var i=this.getOrigin(t),r=this.getResolution(t),o=nt.toSize(this.getTileSize(t),this.tmpSize_),s=i[0]+e.minX*o[0]*r,a=i[0]+(e.maxX+1)*o[0]*r,u=i[1]+e.minY*o[1]*r,h=i[1]+(e.maxY+1)*o[1]*r;return _.createOrUpdate(s,u,a,h,n)},rt.prototype.getTileRangeForExtentAndZ=function(t,e,n){var i=rt.tmpTileCoord_;this.getTileCoordForXYAndZ_(t[0],t[1],e,!1,i);var r=i[1],o=i[2];return this.getTileCoordForXYAndZ_(t[2],t[3],e,!0,i),et.createOrUpdate(r,i[1],o,i[2],n)},rt.prototype.getTileCoordCenter=function(t){var e=this.getOrigin(t[0]),n=this.getResolution(t[0]),i=nt.toSize(this.getTileSize(t[0]),this.tmpSize_);return[e[0]+(t[1]+.5)*i[0]*n,e[1]+(t[2]+.5)*i[1]*n]},rt.prototype.getTileCoordExtent=function(t,e){var n=this.getOrigin(t[0]),i=this.getResolution(t[0]),r=nt.toSize(this.getTileSize(t[0]),this.tmpSize_),o=n[0]+t[1]*r[0]*i,s=n[1]+t[2]*r[1]*i,a=o+r[0]*i,u=s+r[1]*i;return _.createOrUpdate(o,s,a,u,e)},rt.prototype.getTileCoordForCoordAndResolution=function(t,e,n){return this.getTileCoordForXYAndResolution_(t[0],t[1],e,!1,n)},rt.prototype.getTileCoordForXYAndResolution_=function(t,e,n,i,r){var o=this.getZForResolution(n),s=n/this.getResolution(o),a=this.getOrigin(o),u=nt.toSize(this.getTileSize(o),this.tmpSize_),h=i?.5:0,c=i?0:.5,l=Math.floor((t-a[0])/n+h),f=Math.floor((e-a[1])/n+c),p=s*l/u[0],d=s*f/u[1];return i?(p=Math.ceil(p)-1,d=Math.ceil(d)-1):(p=Math.floor(p),d=Math.floor(d)),it.createOrUpdate(o,p,d,r)},rt.prototype.getTileCoordForXYAndZ_=function(t,e,n,i,r){var o=this.getOrigin(n),s=this.getResolution(n),a=nt.toSize(this.getTileSize(n),this.tmpSize_),u=i?.5:0,h=i?0:.5,c=Math.floor((t-o[0])/s+u),l=Math.floor((e-o[1])/s+h),f=c/a[0],p=l/a[1];return i?(f=Math.ceil(f)-1,p=Math.ceil(p)-1):(f=Math.floor(f),p=Math.floor(p)),it.createOrUpdate(n,f,p,r)},rt.prototype.getTileCoordForCoordAndZ=function(t,e,n){return this.getTileCoordForXYAndZ_(t[0],t[1],e,!1,n)},rt.prototype.getTileCoordResolution=function(t){return this.resolutions_[t[0]]},rt.prototype.getTileSize=function(t){return this.tileSize_?this.tileSize_:this.tileSizes_[t]},rt.prototype.getFullTileRange=function(t){return this.fullTileRanges_?this.fullTileRanges_[t]:null},rt.prototype.getZForResolution=function(t,e){var n=tt.linearFindNearest(this.resolutions_,t,e||0);return E.clamp(n,this.minZoom,this.maxZoom)},rt.prototype.calculateTileRanges_=function(t){for(var e=this.resolutions_.length,n=new Array(e),i=this.minZoom;i<e;++i)n[i]=this.getTileRangeForExtentAndZ(t,i);this.fullTileRanges_=n};var ot={getForProjection:function(t){var e=t.getDefaultTileGrid();return e||(e=ot.createForProjection(t),t.setDefaultTileGrid(e)),e},wrapX:function(t,e,n){var i=e[0],r=t.getTileCoordCenter(e),o=ot.extentFromProjection(n);if(_.containsCoordinate(o,r))return e;var s=_.getWidth(o),a=Math.ceil((o[0]-r[0])/s);return r[0]+=s*a,t.getTileCoordForCoordAndZ(r,i)},createForExtent:function(t,e,n,i){var r=void 0!==i?i:"top-left",o=ot.resolutionsFromExtent(t,e,n);return new rt({extent:t,origin:_.getCorner(t,r),resolutions:o,tileSize:n})},createXYZ:function(t){var e={};return s.assign(e,void 0!==t?t:{}),void 0===e.extent&&(e.extent=O.get("EPSG:3857").getExtent()),e.resolutions=ot.resolutionsFromExtent(e.extent,e.maxZoom,e.tileSize),delete e.maxZoom,new rt(e)},resolutionsFromExtent:function(t,e,n){for(var r=void 0!==e?e:i.DEFAULT_MAX_ZOOM,o=_.getHeight(t),s=_.getWidth(t),a=nt.toSize(void 0!==n?n:i.DEFAULT_TILE_SIZE),u=Math.max(s/a[0],o/a[1]),h=r+1,c=new Array(h),l=0;l<h;++l)c[l]=u/Math.pow(2,l);return c},createForProjection:function(t,e,n,i){var r=ot.extentFromProjection(t);return ot.createForExtent(r,e,n,i)},extentFromProjection:function(t){var e=(t=O.get(t)).getExtent();if(!e){var n=180*O.METERS_PER_UNIT[x.DEGREES]/t.getMetersPerUnit();e=_.createOrUpdate(-n,-n,n,n)}return e}},st=function(t){this.html_=t.html,this.tileRanges_=t.tileRanges?t.tileRanges:null};st.prototype.getHTML=function(){return this.html_},st.prototype.intersectsAnyTileRange=function(t,e,n){if(!this.tileRanges_)return!0;var i,r,o,s;for(s in t){var a;if(s in this.tileRanges_)for(o=t[s],i=0,r=this.tileRanges_[s].length;i<r;++i){if((a=this.tileRanges_[s][i]).intersects(o))return!0;var u=e.getTileRangeForExtentAndZ(ot.extentFromProjection(n),parseInt(s,10)),h=u.getWidth();if(o.minX<u.minX||o.maxX>u.maxX){if(a.intersects(new et(E.modulo(o.minX,h),E.modulo(o.maxX,h),o.minY,o.maxY)))return!0;if(o.getWidth()>h&&a.intersects(u))return!0}}}return!1};var at={UNDEFINED:"undefined",LOADING:"loading",READY:"ready",ERROR:"error"},ut=function(t){d.call(this),this.projection_=O.get(t.projection),this.attributions_=null,this.attributions2_=this.adaptAttributions_(t.attributions),this.logo_=t.logo,this.state_=void 0!==t.state?t.state:at.READY,this.wrapX_=void 0!==t.wrapX&&t.wrapX};i.inherits(ut,d),ut.prototype.adaptAttributions_=function(t){if(!t)return null;if(t instanceof st)return this.attributions_=[t],function(e){return[t.getHTML()]};if(Array.isArray(t)){if(t[0]instanceof st){this.attributions_=t;var e=t.map(function(t){return t.getHTML()});return function(t){return e}}return this.attributions_=t.map(function(t){return new st({html:t})}),function(e){return t}}return"function"==typeof t?t:(this.attributions_=[new st({html:t})],function(e){return[t]})},ut.prototype.forEachFeatureAtCoordinate=i.nullFunction,ut.prototype.getAttributions=function(){return this.attributions_},ut.prototype.getAttributions2=function(){return this.attributions2_},ut.prototype.getLogo=function(){return this.logo_},ut.prototype.getProjection=function(){return this.projection_},ut.prototype.getResolutions=function(){},ut.prototype.getState=function(){return this.state_},ut.prototype.getWrapX=function(){return this.wrapX_},ut.prototype.refresh=function(){this.changed()},ut.prototype.setAttributions=function(t){this.attributions2_=this.adaptAttributions_(t),this.changed()},ut.prototype.setLogo=function(t){this.logo_=t},ut.prototype.setState=function(t){this.state_=t,this.changed()};var ht=n(function(t,e){t.exports=function(){function t(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function e(t,e){return t<e?-1:t>e?1:0}return function(n,i,r,o,s){!function e(n,i,r,o,s){for(;o>r;){if(o-r>600){var a=o-r+1,u=i-r+1,h=Math.log(a),c=.5*Math.exp(2*h/3),l=.5*Math.sqrt(h*c*(a-c)/a)*(u-a/2<0?-1:1);e(n,i,Math.max(r,Math.floor(i-u*c/a+l)),Math.min(o,Math.floor(i+(a-u)*c/a+l)),s)}var f=n[i],p=r,d=o;for(t(n,r,i),s(n[o],f)>0&&t(n,r,o);p<d;){for(t(n,p,d),p++,d--;s(n[p],f)<0;)p++;for(;s(n[d],f)>0;)d--}0===s(n[r],f)?t(n,r,d):t(n,++d,o),d<=i&&(r=d+1),i<=d&&(o=d-1)}}(n,i,r||0,o||n.length-1,s||e)}}()}),ct=Object.freeze({default:ht,__moduleExports:ht}),lt=ct&&ht||ct,ft=pt;function pt(t,e){if(!(this instanceof pt))return new pt(t,e);this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),e&&this._initFormat(e),this.clear()}function dt(t,e,n){if(!n)return e.indexOf(t);for(var i=0;i<e.length;i++)if(n(t,e[i]))return i;return-1}function gt(t,e){_t(t,0,t.children.length,e,t)}function _t(t,e,n,i,r){r||(r=Rt(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(var o,s=e;s<n;s++)o=t.children[s],mt(r,t.leaf?i(o):o);return r}function mt(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function vt(t,e){return t.minX-e.minX}function Et(t,e){return t.minY-e.minY}function yt(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function Tt(t){return t.maxX-t.minX+(t.maxY-t.minY)}function xt(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function St(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function Rt(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function Ct(t,e,n,i,r){for(var o,s=[e,n];s.length;)(n=s.pop())-(e=s.pop())<=i||(o=e+Math.ceil((n-e)/i/2)*i,lt(t,o,e,n,r),s.push(e,o,o,n))}pt.prototype={all:function(){return this._all(this.data,[])},search:function(t){var e=this.data,n=[],i=this.toBBox;if(!St(t,e))return n;for(var r,o,s,a,u=[];e;){for(r=0,o=e.children.length;r<o;r++)s=e.children[r],St(t,a=e.leaf?i(s):s)&&(e.leaf?n.push(s):xt(t,a)?this._all(s,n):u.push(s));e=u.pop()}return n},collides:function(t){var e=this.data,n=this.toBBox;if(!St(t,e))return!1;for(var i,r,o,s,a=[];e;){for(i=0,r=e.children.length;i<r;i++)if(o=e.children[i],St(t,s=e.leaf?n(o):o)){if(e.leaf||xt(t,s))return!0;a.push(o)}e=a.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0,n=t.length;e<n;e++)this.insert(t[e]);return this}var i=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===i.height)this._splitRoot(this.data,i);else{if(this.data.height<i.height){var r=this.data;this.data=i,i=r}this._insert(i,this.data.height-i.height-1,!0)}else this.data=i;return this},insert:function(t){return t&&this._insert(t,this.data.height-1),this},clear:function(){return this.data=Rt([]),this},remove:function(t,e){if(!t)return this;for(var n,i,r,o,s=this.data,a=this.toBBox(t),u=[],h=[];s||u.length;){if(s||(s=u.pop(),i=u[u.length-1],n=h.pop(),o=!0),s.leaf&&-1!==(r=dt(t,s.children,e)))return s.children.splice(r,1),u.push(s),this._condense(u),this;o||s.leaf||!xt(s,a)?i?(n++,s=i.children[n],o=!1):s=null:(u.push(s),h.push(n),n=0,i=s,s=s.children[0])}return this},toBBox:function(t){return t},compareMinX:vt,compareMinY:Et,toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,e){for(var n=[];t;)t.leaf?e.push.apply(e,t.children):n.push.apply(n,t.children),t=n.pop();return e},_build:function(t,e,n,i){var r,o=n-e+1,s=this._maxEntries;if(o<=s)return gt(r=Rt(t.slice(e,n+1)),this.toBBox),r;i||(i=Math.ceil(Math.log(o)/Math.log(s)),s=Math.ceil(o/Math.pow(s,i-1))),(r=Rt([])).leaf=!1,r.height=i;var a,u,h,c,l=Math.ceil(o/s),f=l*Math.ceil(Math.sqrt(s));for(Ct(t,e,n,f,this.compareMinX),a=e;a<=n;a+=f)for(Ct(t,a,h=Math.min(a+f-1,n),l,this.compareMinY),u=a;u<=h;u+=l)c=Math.min(u+l-1,h),r.children.push(this._build(t,u,c,i-1));return gt(r,this.toBBox),r},_chooseSubtree:function(t,e,n,i){for(var r,o,s,a,u,h,c,l,f,p;i.push(e),!e.leaf&&i.length-1!==n;){for(c=l=1/0,r=0,o=e.children.length;r<o;r++)u=yt(s=e.children[r]),f=t,p=s,(h=(Math.max(p.maxX,f.maxX)-Math.min(p.minX,f.minX))*(Math.max(p.maxY,f.maxY)-Math.min(p.minY,f.minY))-u)<l?(l=h,c=u<c?u:c,a=s):h===l&&u<c&&(c=u,a=s);e=a||e.children[0]}return e},_insert:function(t,e,n){var i=this.toBBox,r=n?t:i(t),o=[],s=this._chooseSubtree(r,this.data,e,o);for(s.children.push(t),mt(s,r);e>=0&&o[e].children.length>this._maxEntries;)this._split(o,e),e--;this._adjustParentBBoxes(r,o,e)},_split:function(t,e){var n=t[e],i=n.children.length,r=this._minEntries;this._chooseSplitAxis(n,r,i);var o=this._chooseSplitIndex(n,r,i),s=Rt(n.children.splice(o,n.children.length-o));s.height=n.height,s.leaf=n.leaf,gt(n,this.toBBox),gt(s,this.toBBox),e?t[e-1].children.push(s):this._splitRoot(n,s)},_splitRoot:function(t,e){this.data=Rt([t,e]),this.data.height=t.height+1,this.data.leaf=!1,gt(this.data,this.toBBox)},_chooseSplitIndex:function(t,e,n){var i,r,o,s,a,u,h,c,l,f,p,d,g,_;for(u=h=1/0,i=e;i<=n-e;i++)l=r=_t(t,0,i,this.toBBox),f=o=_t(t,i,n,this.toBBox),p=Math.max(l.minX,f.minX),d=Math.max(l.minY,f.minY),g=Math.min(l.maxX,f.maxX),_=Math.min(l.maxY,f.maxY),s=Math.max(0,g-p)*Math.max(0,_-d),a=yt(r)+yt(o),s<u?(u=s,c=i,h=a<h?a:h):s===u&&a<h&&(h=a,c=i);return c},_chooseSplitAxis:function(t,e,n){var i=t.leaf?this.compareMinX:vt,r=t.leaf?this.compareMinY:Et;this._allDistMargin(t,e,n,i)<this._allDistMargin(t,e,n,r)&&t.children.sort(i)},_allDistMargin:function(t,e,n,i){t.children.sort(i);var r,o,s=this.toBBox,a=_t(t,0,e,s),u=_t(t,n-e,n,s),h=Tt(a)+Tt(u);for(r=e;r<n-e;r++)o=t.children[r],mt(a,t.leaf?s(o):o),h+=Tt(a);for(r=n-e-1;r>=e;r--)o=t.children[r],mt(u,t.leaf?s(o):o),h+=Tt(u);return h},_adjustParentBBoxes:function(t,e,n){for(var i=n;i>=0;i--)mt(e[i],t)},_condense:function(t){for(var e,n=t.length-1;n>=0;n--)0===t[n].children.length?n>0?(e=t[n-1].children).splice(e.indexOf(t[n]),1):this.clear():gt(t[n],this.toBBox)},_initFormat:function(t){var e=["return a"," - b",";"];this.compareMinX=new Function("a","b",e.join(t[0])),this.compareMinY=new Function("a","b",e.join(t[1])),this.toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}};var Mt=function(t){this.rbush_=ft(t),this.items_={}};Mt.prototype.insert=function(t,e){var n={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:e};this.rbush_.insert(n),this.items_[i.getUid(e)]=n},Mt.prototype.load=function(t,e){for(var n=new Array(e.length),r=0,o=e.length;r<o;r++){var s=t[r],a=e[r],u={minX:s[0],minY:s[1],maxX:s[2],maxY:s[3],value:a};n[r]=u,this.items_[i.getUid(a)]=u}this.rbush_.load(n)},Mt.prototype.remove=function(t){var e=i.getUid(t),n=this.items_[e];return delete this.items_[e],null!==this.rbush_.remove(n)},Mt.prototype.update=function(t,e){var n=this.items_[i.getUid(e)],r=[n.minX,n.minY,n.maxX,n.maxY];_.equals(r,t)||(this.remove(e),this.insert(t,e))},Mt.prototype.getAll=function(){return this.rbush_.all().map(function(t){return t.value})},Mt.prototype.getInExtent=function(t){var e={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]};return this.rbush_.search(e).map(function(t){return t.value})},Mt.prototype.forEach=function(t,e){return this.forEach_(this.getAll(),t,e)},Mt.prototype.forEachInExtent=function(t,e,n){return this.forEach_(this.getInExtent(t),e,n)},Mt.prototype.forEach_=function(t,e,n){for(var i,r=0,o=t.length;r<o;r++)if(i=e.call(n,t[r]))return i;return i},Mt.prototype.isEmpty=function(){return s.isEmpty(this.items_)},Mt.prototype.clear=function(){this.rbush_.clear(),this.items_={}},Mt.prototype.getExtent=function(t){var e=this.rbush_.data;return _.createOrUpdate(e.minX,e.minY,e.maxX,e.maxY,t)},Mt.prototype.concat=function(t){for(var e in this.rbush_.load(t.rbush_.all()),t.items_)this.items_[0|e]=t.items_[0|e]};var At={IMAGE:"IMAGE",TILE:"TILE",VECTOR_TILE:"VECTOR_TILE",VECTOR:"VECTOR"},Lt=function(t){d.call(this);var e=s.assign({},t);e.opacity=void 0!==t.opacity?t.opacity:1,e.visible=void 0===t.visible||t.visible,e.zIndex=void 0!==t.zIndex?t.zIndex:0,e.maxResolution=void 0!==t.maxResolution?t.maxResolution:1/0,e.minResolution=void 0!==t.minResolution?t.minResolution:0,this.setProperties(e),this.state_={layer:this,managed:!0},this.type};i.inherits(Lt,d),Lt.prototype.getType=function(){return this.type},Lt.prototype.getLayerState=function(){return this.state_.opacity=E.clamp(this.getOpacity(),0,1),this.state_.sourceState=this.getSourceState(),this.state_.visible=this.getVisible(),this.state_.extent=this.getExtent(),this.state_.zIndex=this.getZIndex(),this.state_.maxResolution=this.getMaxResolution(),this.state_.minResolution=Math.max(this.getMinResolution(),0),this.state_},Lt.prototype.getLayersArray=function(t){},Lt.prototype.getLayerStatesArray=function(t){},Lt.prototype.getExtent=function(){return this.get("extent")},Lt.prototype.getMaxResolution=function(){return this.get("maxResolution")},Lt.prototype.getMinResolution=function(){return this.get("minResolution")},Lt.prototype.getOpacity=function(){return this.get("opacity")},Lt.prototype.getSourceState=function(){},Lt.prototype.getVisible=function(){return this.get("visible")},Lt.prototype.getZIndex=function(){return this.get("zIndex")},Lt.prototype.setExtent=function(t){this.set("extent",t)},Lt.prototype.setMaxResolution=function(t){this.set("maxResolution",t)},Lt.prototype.setMinResolution=function(t){this.set("minResolution",t)},Lt.prototype.setOpacity=function(t){this.set("opacity",t)},Lt.prototype.setVisible=function(t){this.set("visible",t)},Lt.prototype.setZIndex=function(t){this.set("zIndex",t)};var Ot={POSTCOMPOSE:"postcompose",PRECOMPOSE:"precompose",RENDER:"render"},It=function(t){var e=s.assign({},t);delete e.source,Lt.call(this,e),this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,t.map&&this.setMap(t.map),a.listen(this,d.getChangeEventType("source"),this.handleSourcePropertyChange_,this);var n=t.source?t.source:null;this.setSource(n)};i.inherits(It,Lt),It.visibleAtResolution=function(t,e){return t.visible&&e>=t.minResolution&&e<t.maxResolution},It.prototype.getLayersArray=function(t){var e=t||[];return e.push(this),e},It.prototype.getLayerStatesArray=function(t){var e=t||[];return e.push(this.getLayerState()),e},It.prototype.getSource=function(){return this.get("source")||null},It.prototype.getSourceState=function(){var t=this.getSource();return t?t.getState():at.UNDEFINED},It.prototype.handleSourceChange_=function(){this.changed()},It.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&(a.unlistenByKey(this.sourceChangeKey_),this.sourceChangeKey_=null);var t=this.getSource();t&&(this.sourceChangeKey_=a.listen(t,u.CHANGE,this.handleSourceChange_,this)),this.changed()},It.prototype.setMap=function(t){this.mapPrecomposeKey_&&(a.unlistenByKey(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),t||this.changed(),this.mapRenderKey_&&(a.unlistenByKey(this.mapRenderKey_),this.mapRenderKey_=null),t&&(this.mapPrecomposeKey_=a.listen(t,Ot.PRECOMPOSE,function(t){var e=this.getLayerState();e.managed=!1,e.zIndex=1/0,t.frameState.layerStatesArray.push(e),t.frameState.layerStates[i.getUid(this)]=e},this),this.mapRenderKey_=a.listen(this,u.CHANGE,t.render,t),this.changed())},It.prototype.setSource=function(t){this.set("source",t)};var Pt={IMAGE:"image",VECTOR:"vector"};export{i as a,F as b,U as c,Y as d,G as e,Z as f,X as g,o as h,y as i,W as j,a as k,u as l,d as m,P as n,_ as o,k as p,K as q,V as r,E as s,f as t,J as u,tt as v,Q as w,$ as x,h as y,l as z,m as a0,s as a1,ut as a2,at as a3,Mt as a4,At as a5,It as a6,Pt as a7,O as a8,x as a9,Lt as aa,nt as ab,I as ac,B as ad,c as ae,v as af,p as ag,Ot as ah,et as ai,g as aj,ft as ak,D as al,z as am,it as an,ot as ao};